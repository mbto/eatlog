-- MySQL dump 10.13  Distrib 8.0.33, for Linux (x86_64)
--
-- Host: localhost    Database: eatlog
-- ------------------------------------------------------
-- Server version	8.0.33

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Current Database: `eatlog`
--

/*!40000 DROP DATABASE IF EXISTS `eatlog`*/;

CREATE DATABASE /*!32312 IF NOT EXISTS*/ `eatlog` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;

USE `eatlog`;

--
-- Table structure for table `account`
--

DROP TABLE IF EXISTS `account`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `account` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `lastauth_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `name` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `site_auth_yandexid` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `site_avatar_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `locale_segments` varchar(15) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'ru' COMMENT 'Example value: ''ru'' or ''en'' or ''en_US'' or others languages with/without country',
  `roles` json DEFAULT NULL,
  `ip` int unsigned DEFAULT NULL,
  `is_banned` tinyint unsigned DEFAULT NULL,
  `banned_reason` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `grade_eatlog` smallint unsigned DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `site_auth_yandexid_idx` (`site_auth_yandexid`) USING BTREE,
  KEY `created_at` (`created_at`) USING BTREE,
  KEY `lastauth_at` (`lastauth_at`) USING BTREE,
  KEY `ip` (`ip`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `account`
--

LOCK TABLES `account` WRITE;
/*!40000 ALTER TABLE `account` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `account` VALUES (1,'2023-04-01 12:00:00','2026-01-07 14:50:04','body','1493475743','https://avatars.yandex.net/get-yapic/62162/FherlbVVwyc4GvMziINNiwIJ4U-1/islands-68','ru','[\"admin\", \"owner\"]',35263872,NULL,NULL,5);
/*!40000 ALTER TABLE `account` ENABLE KEYS */;
UNLOCK TABLES;
commit;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS account_BEFORE_INSERT */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `account_BEFORE_INSERT` BEFORE INSERT ON `account` FOR EACH ROW BEGIN
if(NEW.roles = cast('[]' as json)) then
 set NEW.roles = null;
end if;
if(NEW.is_banned = 0) then
 set NEW.is_banned = null;
end if;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS account_BEFORE_UPDATE */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `account_BEFORE_UPDATE` BEFORE UPDATE ON `account` FOR EACH ROW BEGIN
if(NEW.roles = cast('[]' as json)) then
 set NEW.roles = null;
end if;
if(NEW.is_banned = 0) then
 set NEW.is_banned = null;
end if;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `consumed`
--

DROP TABLE IF EXISTS `consumed`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `consumed` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `date` date NOT NULL,
  `product_id` int unsigned NOT NULL,
  `gram` decimal(4,0) unsigned NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  KEY `consumed_product_product_id_fk` (`product_id`) USING BTREE,
  KEY `date` (`date`) USING BTREE,
  CONSTRAINT `consumed_product_product_id_fk` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `consumed`
--

LOCK TABLES `consumed` WRITE;
/*!40000 ALTER TABLE `consumed` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `consumed` VALUES (1,'2023-04-04',12,290),(2,'2023-04-04',13,150),(3,'2023-04-04',7,300),(4,'2023-04-04',9,200),(5,'2023-04-04',2,245),(6,'2023-04-04',1,100),(7,'2023-04-05',12,290),(8,'2023-04-05',13,150),(9,'2023-04-05',7,150),(10,'2023-04-05',9,200),(11,'2023-04-05',2,245),(12,'2023-04-05',1,100),(13,'2023-04-06',3,200),(14,'2023-04-06',13,150),(15,'2023-04-06',7,150),(16,'2023-04-06',9,200),(17,'2023-04-06',2,245),(18,'2023-04-06',1,200),(19,'2023-04-06',8,180),(21,'2023-04-07',3,200),(22,'2023-04-07',13,300),(23,'2023-04-07',7,150),(24,'2023-04-07',9,200),(25,'2023-04-07',2,245),(26,'2023-04-07',1,200),(27,'2023-04-07',8,180),(28,'2023-04-07',11,195),(29,'2023-04-08',14,265),(30,'2023-04-08',13,150),(31,'2023-04-08',4,200),(32,'2023-04-08',9,200),(33,'2023-04-08',2,245),(34,'2023-04-08',1,200),(35,'2023-04-08',5,180),(36,'2023-04-08',10,130),(37,'2023-04-09',6,155),(38,'2023-04-09',13,300),(39,'2023-04-09',4,200),(40,'2023-04-09',9,200),(41,'2023-04-09',2,245),(42,'2023-04-09',1,200),(43,'2023-04-09',8,180),(44,'2023-04-10',3,200),(45,'2023-04-10',13,150),(46,'2023-04-10',7,150),(47,'2023-04-10',5,180),(48,'2023-04-10',9,200),(49,'2023-04-10',2,245),(50,'2023-04-10',1,200),(51,'2023-04-10',10,130),(52,'2023-04-11',3,200),(53,'2023-04-11',13,150),(54,'2023-04-11',5,180),(55,'2023-04-11',7,150),(56,'2023-04-11',9,200),(57,'2023-04-11',2,245),(58,'2023-04-11',1,200),(59,'2023-04-11',8,180),(60,'2023-04-12',15,220),(61,'2023-04-12',5,180),(62,'2023-04-12',7,150),(63,'2023-04-12',9,200),(64,'2023-04-12',2,245),(65,'2023-04-12',1,200),(66,'2023-04-12',13,150),(67,'2023-04-13',14,265),(68,'2023-04-13',7,150),(69,'2023-04-13',16,200),(70,'2023-04-13',17,220),(72,'2023-04-13',1,200),(73,'2023-04-14',14,265),(74,'2023-04-14',5,180),(75,'2023-04-14',4,200),(76,'2023-04-14',13,300),(77,'2023-04-14',9,200),(78,'2023-04-14',2,245),(80,'2023-04-14',1,200),(81,'2023-04-15',14,265),(86,'2023-04-15',17,220),(87,'2023-04-15',7,150),(88,'2023-04-15',9,200),(97,'2023-04-15',2,245),(98,'2023-04-15',1,200),(112,'2023-04-16',24,200),(113,'2023-04-16',7,150),(114,'2023-04-16',5,180),(115,'2023-04-16',17,220),(119,'2023-04-16',2,245),(120,'2023-04-16',1,200),(145,'2023-04-16',13,300),(219,'2023-04-17',14,265),(232,'2023-04-17',7,150),(233,'2023-04-17',17,220),(234,'2023-04-17',9,200),(235,'2023-04-17',2,245),(236,'2023-04-17',13,150),(237,'2023-04-17',1,200),(238,'2023-04-18',24,200),(240,'2023-04-18',4,200),(241,'2023-04-18',5,180),(242,'2023-04-18',16,200),(244,'2023-04-18',13,300),(245,'2023-04-18',1,200),(246,'2023-04-18',2,245),(247,'2023-04-19',14,265),(248,'2023-04-19',8,180),(249,'2023-04-19',25,150),(250,'2023-04-19',13,300),(251,'2023-04-19',16,200),(253,'2023-04-19',1,200),(254,'2023-04-19',26,200),(255,'2023-04-20',6,155),(256,'2023-04-20',5,180),(257,'2023-04-20',25,150),(258,'2023-04-20',16,200),(259,'2023-04-20',26,200),(260,'2023-04-20',1,200),(261,'2023-04-20',10,130),(262,'2023-04-21',24,200),(263,'2023-04-21',27,270),(264,'2023-04-21',25,150),(265,'2023-04-21',13,300),(266,'2023-04-21',9,200),(268,'2023-04-21',1,200),(269,'2023-04-21',8,180),(270,'2023-04-21',26,200),(271,'2023-04-22',14,265),(272,'2023-04-22',5,180),(273,'2023-04-22',4,200),(275,'2023-04-22',16,200),(276,'2023-04-22',26,200),(277,'2023-04-22',1,200),(278,'2023-04-22',10,130),(279,'2023-04-23',24,200),(280,'2023-04-23',27,270),(281,'2023-04-23',4,200),(282,'2023-04-23',28,220),(284,'2023-04-24',6,155),(285,'2023-04-24',5,180),(286,'2023-04-24',25,150),(287,'2023-04-24',13,150),(288,'2023-04-24',16,200),(289,'2023-04-24',26,200),(290,'2023-04-24',1,200),(291,'2023-04-25',14,265),(292,'2023-04-25',25,150),(293,'2023-04-25',27,540),(294,'2023-04-25',11,195),(295,'2023-04-25',26,200),(296,'2023-04-26',24,200),(297,'2023-04-26',29,200),(298,'2023-04-26',5,180),(299,'2023-04-26',16,200),(300,'2023-04-26',26,200),(301,'2023-04-26',1,200),(302,'2023-04-26',8,180),(303,'2023-04-27',24,200),(304,'2023-04-27',26,200),(305,'2023-04-27',29,200),(306,'2023-04-27',1,200),(307,'2023-04-27',13,300),(308,'2023-04-27',27,540),(309,'2023-04-28',24,200),(310,'2023-04-28',8,180),(311,'2023-04-28',25,150),(312,'2023-04-28',1,200),(313,'2023-04-28',13,300),(314,'2023-04-28',26,200),(315,'2023-04-29',12,290),(316,'2023-04-29',29,200),(317,'2023-04-29',8,180),(318,'2023-04-29',30,200),(319,'2023-04-30',12,290),(320,'2023-04-30',45,330),(321,'2023-04-30',4,200),(322,'2023-04-30',8,180),(323,'2023-04-30',1,200),(325,'2023-04-30',26,200),(326,'2023-05-01',46,327),(327,'2023-05-01',47,200),(328,'2023-05-01',49,390),(329,'2023-05-01',50,236),(330,'2023-05-01',48,300),(331,'2023-05-01',8,180),(332,'2023-05-01',1,200),(334,'2023-05-02',24,200),(335,'2023-05-02',5,180),(336,'2023-05-02',47,200),(337,'2023-05-02',30,200),(338,'2023-05-02',26,200),(339,'2023-05-02',1,200),(340,'2023-05-03',14,265),(341,'2023-05-03',51,25),(342,'2023-05-03',16,200),(343,'2023-05-03',25,150),(344,'2023-05-03',27,270),(345,'2023-05-03',26,200),(346,'2023-05-03',1,200),(347,'2023-05-04',24,200),(348,'2023-05-04',51,25),(349,'2023-05-04',5,180),(350,'2023-05-04',25,150),(351,'2023-05-04',26,200),(352,'2023-05-04',1,200),(353,'2023-05-05',12,290),(354,'2023-05-04',52,200),(355,'2023-05-03',52,200),(356,'2023-05-02',52,100),(357,'2023-05-05',51,50),(358,'2023-05-05',29,200),(359,'2023-05-05',27,540),(360,'2023-05-05',26,200),(361,'2023-05-05',1,200),(362,'2023-05-05',13,150),(395,'2023-06-25',12,290),(396,'2023-06-25',5,540),(397,'2023-06-25',29,200),(398,'2023-06-25',1,200),(399,'2023-06-25',27,540),(400,'2023-06-25',52,200),(401,'2023-06-26',14,265),(402,'2023-06-26',261,290),(403,'2023-06-26',29,200),(404,'2023-06-26',5,180),(405,'2023-06-26',13,450),(406,'2023-04-13',26,200),(407,'2023-06-27',14,265),(408,'2023-06-27',5,180),(409,'2023-06-27',29,200),(410,'2023-06-27',27,540),(411,'2023-06-27',1,200),(412,'2023-06-28',12,290),(413,'2023-06-28',5,360),(414,'2023-06-28',29,200),(415,'2023-06-28',9,200),(416,'2023-06-28',8,180),(417,'2023-06-28',1,200),(418,'2023-06-29',14,265),(419,'2023-06-29',13,300),(420,'2023-06-29',29,200),(421,'2023-06-29',5,180),(422,'2023-06-29',27,270),(423,'2023-06-29',26,200),(424,'2023-06-29',1,200),(425,'2023-06-29',8,180),(426,'2023-06-30',14,265),(427,'2023-06-30',29,200),(428,'2023-06-30',27,270),(429,'2023-06-30',5,180),(430,'2023-06-30',13,300),(431,'2023-06-30',26,200),(432,'2023-06-30',1,200),(433,'2023-07-01',14,265),(434,'2023-07-01',5,180),(435,'2023-07-01',29,200),(436,'2023-07-01',27,270),(437,'2023-07-01',13,450),(438,'2023-07-01',1,200),(439,'2023-07-01',8,180),(440,'2023-07-02',14,265),(441,'2023-07-02',29,200),(442,'2023-07-02',27,270),(443,'2023-07-02',8,360),(444,'2023-07-02',13,450),(445,'2023-07-02',1,200),(446,'2023-07-03',12,290),(447,'2023-07-03',52,400),(448,'2023-07-03',29,200),(449,'2023-07-03',27,270),(450,'2023-07-03',8,360),(451,'2023-07-03',1,200),(452,'2023-07-04',14,265),(453,'2023-07-04',262,190),(454,'2023-07-04',29,200),(455,'2023-07-04',13,300),(457,'2023-07-04',1,200),(458,'2023-07-04',26,200),(459,'2023-07-04',52,100),(460,'2023-07-05',14,265),(461,'2023-07-05',29,200),(462,'2023-07-05',262,190),(463,'2023-07-05',52,300),(464,'2023-07-05',27,270),(465,'2023-07-05',1,200),(466,'2023-07-05',26,200),(467,'2023-07-06',14,265),(468,'2023-07-06',29,200),(469,'2023-07-06',262,190),(470,'2023-07-06',26,200),(471,'2023-07-06',1,200),(472,'2023-07-06',13,300),(473,'2023-07-07',14,265),(474,'2023-07-07',29,200),(475,'2023-07-07',27,270),(476,'2023-07-07',262,190),(477,'2023-07-07',13,450),(478,'2023-07-07',26,200),(479,'2023-07-07',1,200),(480,'2023-07-08',12,290),(481,'2023-07-08',29,200),(482,'2023-07-08',262,190),(483,'2023-07-08',27,270),(484,'2023-07-08',8,180),(485,'2023-07-08',1,200),(486,'2023-07-09',12,290),(487,'2023-07-08',52,300),(488,'2023-07-09',29,200),(489,'2023-07-09',27,270),(491,'2023-07-09',1,200),(492,'2023-07-09',13,150),(493,'2023-07-09',26,200),(495,'2023-07-10',12,290),(497,'2023-07-10',29,200),(498,'2023-07-10',262,190),(499,'2023-07-10',27,270),(500,'2023-07-10',8,180),(501,'2023-07-10',1,200),(502,'2023-07-10',13,300),(503,'2023-07-10',52,100),(504,'2023-07-11',14,265),(505,'2023-07-11',29,200),(506,'2023-07-11',27,270),(507,'2023-07-11',5,180),(508,'2023-07-11',262,190),(509,'2023-07-11',26,200),(510,'2023-07-11',13,450),(511,'2023-07-12',14,265),(512,'2023-07-12',262,190),(513,'2023-07-12',29,200),(514,'2023-07-12',5,180),(515,'2023-07-12',27,270),(516,'2023-07-12',8,180),(517,'2023-07-12',13,300),(518,'2023-07-13',12,290),(519,'2023-07-13',262,190),(520,'2023-07-13',29,200),(521,'2023-07-13',27,270),(523,'2023-07-13',13,300),(524,'2023-07-13',26,200),(525,'2023-07-14',14,265),(526,'2023-07-14',29,200),(527,'2023-07-15',12,290),(528,'2023-07-15',29,200),(529,'2023-07-15',262,190),(530,'2023-07-15',27,270),(531,'2023-07-15',26,200),(532,'2023-07-15',13,300),(533,'2023-07-16',14,265),(534,'2023-07-16',29,200),(535,'2023-07-16',13,450),(536,'2023-07-16',5,180),(537,'2023-07-16',262,190),(538,'2023-07-16',26,200),(539,'2023-07-17',12,290),(540,'2023-07-17',29,200),(541,'2023-07-17',262,190),(542,'2023-07-17',27,270),(543,'2023-07-17',8,180),(544,'2023-07-17',52,200),(545,'2023-07-17',1,200),(546,'2023-07-18',14,265),(547,'2023-07-18',29,200),(548,'2023-07-18',27,270),(549,'2023-07-18',262,190),(550,'2023-07-18',26,200),(551,'2023-07-18',13,300),(552,'2023-07-18',1,200),(553,'2023-07-19',14,265),(554,'2023-07-19',12,290),(555,'2023-07-19',27,270),(556,'2023-07-19',29,200),(557,'2023-07-19',5,180),(558,'2023-07-19',262,190),(559,'2023-07-19',8,180),(560,'2023-07-19',1,200),(561,'2023-07-19',13,150),(565,'2023-07-20',14,265),(566,'2023-07-20',27,270),(567,'2023-07-20',29,200),(568,'2023-07-20',5,180),(569,'2023-07-19',264,930),(570,'2023-07-19',263,440),(571,'2023-07-19',52,200),(572,'2023-07-20',262,190),(573,'2023-07-20',8,180),(574,'2023-07-20',13,300),(575,'2023-07-21',14,530),(576,'2023-07-21',29,200),(577,'2023-07-21',27,270),(578,'2023-07-21',262,190),(579,'2023-07-21',26,200),(580,'2023-07-21',13,300),(581,'2023-07-21',1,200),(582,'2023-07-22',12,290),(583,'2023-07-22',27,270),(584,'2023-07-22',29,200),(585,'2023-07-22',5,180),(586,'2023-07-22',262,190),(587,'2023-07-22',13,300),(588,'2023-07-22',26,200),(589,'2023-07-22',1,200),(590,'2023-07-23',14,265),(591,'2023-07-23',29,200),(592,'2023-07-23',13,450),(593,'2023-07-23',262,190),(594,'2023-07-23',27,270),(595,'2023-07-23',8,180),(597,'2023-07-24',12,290),(598,'2023-07-24',27,270),(599,'2023-07-24',29,200),(600,'2023-07-24',262,190),(601,'2023-07-24',5,180),(602,'2023-07-24',8,180),(603,'2023-07-24',1,200),(604,'2023-07-24',13,300),(605,'2023-07-25',12,290),(606,'2023-07-25',29,200),(607,'2023-07-25',27,270),(608,'2023-07-25',5,180),(609,'2023-07-25',262,190),(610,'2023-07-25',26,200),(611,'2023-07-25',1,200),(612,'2023-07-25',13,600),(613,'2023-07-26',12,290),(614,'2023-07-26',29,200),(615,'2023-07-26',27,540),(616,'2023-07-26',5,180),(617,'2023-07-26',26,200),(618,'2023-07-26',1,400),(619,'2023-07-26',52,200),(620,'2023-07-27',12,290),(621,'2023-07-27',5,360),(622,'2023-07-27',29,200),(623,'2023-07-27',27,540),(624,'2023-07-27',13,150),(625,'2023-07-27',26,200),(626,'2023-07-28',12,290),(627,'2023-07-28',29,200),(628,'2023-07-28',262,190),(629,'2023-07-28',13,450),(630,'2023-07-28',27,270),(631,'2023-07-28',8,180),(632,'2023-07-28',1,200),(633,'2023-07-29',12,290),(634,'2023-07-29',27,270),(635,'2023-07-29',29,200),(636,'2023-07-29',262,190),(637,'2023-07-29',26,200),(638,'2023-07-29',1,200),(639,'2023-07-29',265,930),(640,'2023-07-29',13,150),(641,'2023-07-30',12,290),(642,'2023-07-30',262,190),(643,'2023-07-30',29,200),(644,'2023-07-30',27,270),(645,'2023-07-30',5,180),(646,'2023-07-30',265,930),(647,'2023-07-30',13,300),(648,'2023-07-30',26,200),(649,'2023-07-30',1,200),(650,'2023-07-31',12,290),(651,'2023-07-31',29,200),(652,'2023-07-31',13,150),(653,'2023-07-31',5,360),(654,'2023-07-31',27,540),(655,'2023-08-01',12,290),(656,'2023-08-01',29,200),(657,'2023-08-01',27,540),(658,'2023-08-01',5,180),(659,'2023-08-01',8,180),(660,'2023-08-01',1,200),(661,'2023-08-02',12,290),(662,'2023-08-02',29,200),(663,'2023-08-02',27,270),(664,'2023-08-02',266,130),(665,'2023-08-02',26,200),(666,'2023-08-02',13,300),(667,'2023-08-03',12,290),(668,'2023-08-03',29,200),(669,'2023-08-03',27,270),(670,'2023-08-03',1,150),(671,'2023-08-03',267,245),(672,'2023-08-03',8,180),(673,'2023-08-03',13,600),(674,'2023-08-04',12,290),(675,'2023-08-04',29,200),(676,'2023-08-04',266,260),(677,'2023-08-04',27,540),(678,'2023-08-04',13,450),(679,'2023-08-04',265,930),(680,'2023-08-04',26,200),(681,'2023-08-05',12,290),(682,'2023-08-05',29,200),(683,'2023-08-05',27,540),(684,'2023-08-05',266,260),(685,'2023-08-05',13,750),(686,'2023-08-05',8,180),(687,'2023-08-06',12,290),(688,'2023-08-06',29,200),(689,'2023-08-06',13,750),(690,'2023-08-06',27,270),(691,'2023-08-06',266,260),(692,'2023-08-06',26,200),(693,'2023-08-07',12,290),(694,'2023-08-07',29,200),(695,'2023-08-07',266,260),(696,'2023-08-07',27,270),(697,'2023-08-07',8,180),(698,'2023-08-08',12,290),(699,'2023-08-08',27,270),(700,'2023-08-08',29,200),(701,'2023-08-08',269,200),(702,'2023-08-08',5,180),(703,'2023-08-08',26,200),(704,'2023-08-08',13,450),(705,'2023-08-07',13,300),(706,'2023-08-09',12,290),(707,'2023-08-09',29,200),(708,'2023-08-09',27,270),(709,'2023-08-09',269,200),(710,'2023-08-09',8,180),(711,'2023-08-09',13,300),(712,'2023-08-09',52,300),(713,'2023-08-09',265,930),(714,'2023-08-10',12,290),(715,'2023-08-10',29,200),(716,'2023-08-10',27,270),(717,'2023-08-10',266,260),(718,'2023-08-10',26,200),(719,'2023-08-10',13,600),(720,'2023-08-11',12,290),(721,'2023-08-11',29,200),(722,'2023-08-11',27,270),(723,'2023-08-11',266,260),(724,'2023-08-11',8,180),(726,'2023-08-12',12,290),(727,'2023-08-12',29,200),(728,'2023-08-12',27,270),(729,'2023-08-12',5,180),(730,'2023-08-12',266,260),(731,'2023-08-12',8,180),(732,'2023-08-12',52,300),(733,'2023-08-13',12,290),(734,'2023-08-14',12,290),(735,'2023-08-14',27,270),(736,'2023-08-14',29,200),(737,'2023-08-14',13,300),(738,'2023-08-14',266,260),(739,'2023-08-13',29,200),(740,'2023-08-13',27,270),(741,'2023-08-13',266,260),(742,'2023-08-13',8,180),(743,'2023-08-14',8,180),(744,'2023-08-15',12,290),(745,'2023-08-15',29,200),(746,'2023-08-15',27,270),(747,'2023-08-15',13,450),(748,'2023-08-15',26,200),(749,'2023-08-15',266,260),(750,'2023-08-16',12,290),(751,'2023-08-16',27,270),(752,'2023-08-16',29,200),(753,'2023-08-16',8,180),(754,'2023-08-16',266,260),(755,'2023-08-16',52,400),(756,'2023-08-17',12,290),(757,'2023-08-17',27,270),(758,'2023-08-17',29,200),(759,'2023-08-17',26,200),(760,'2023-08-17',266,260),(761,'2023-08-17',52,300),(762,'2023-08-18',12,290),(763,'2023-08-18',27,270),(764,'2023-08-18',29,200),(765,'2023-08-18',266,260),(766,'2023-08-18',26,200),(767,'2023-08-18',52,200),(768,'2023-08-18',13,300),(769,'2023-08-19',12,290),(770,'2023-08-19',29,200),(771,'2023-08-19',5,180),(772,'2023-08-19',27,270),(773,'2023-08-19',266,260),(774,'2023-08-19',26,200),(775,'2023-08-19',13,750),(776,'2023-08-20',12,290),(777,'2023-08-20',13,600),(778,'2023-08-20',29,200),(779,'2023-08-20',27,270),(780,'2023-08-20',26,200),(781,'2023-08-20',266,260),(782,'2023-08-21',12,290),(783,'2023-08-21',27,270),(784,'2023-08-21',29,200),(785,'2023-08-21',267,245),(786,'2023-08-21',13,600),(788,'2023-08-21',266,130),(789,'2023-08-21',8,180),(790,'2023-08-21',265,930),(791,'2023-08-22',12,290),(792,'2023-08-22',27,270),(793,'2023-08-22',29,200),(794,'2023-08-22',266,260),(795,'2023-08-22',5,180),(796,'2023-08-22',26,200),(797,'2023-08-22',13,1050),(798,'2023-08-23',12,290),(799,'2023-08-23',29,200),(800,'2023-08-23',27,270),(801,'2023-08-23',266,260),(802,'2023-08-23',8,180),(803,'2023-08-23',52,500),(804,'2023-08-24',12,290),(805,'2023-08-24',29,200),(806,'2023-08-24',27,270),(807,'2023-08-24',266,260),(808,'2023-08-24',270,1000),(809,'2023-08-24',13,900),(810,'2023-08-24',26,200),(811,'2023-08-25',12,290),(812,'2023-08-25',29,200),(813,'2023-08-25',27,270),(814,'2023-08-25',5,180),(815,'2023-08-25',266,260),(816,'2023-08-25',13,600),(817,'2023-08-25',8,180),(818,'2023-08-25',52,200),(819,'2023-08-26',12,290),(820,'2023-08-26',270,1000),(821,'2023-08-26',29,200),(822,'2023-08-26',27,270),(823,'2023-08-26',266,260),(824,'2023-08-26',13,900),(825,'2023-08-26',8,180),(826,'2023-08-27',12,290),(827,'2023-08-27',29,200),(828,'2023-08-27',27,270),(829,'2023-08-27',266,130),(830,'2023-08-27',13,600),(831,'2023-08-27',5,180),(833,'2023-08-27',270,1000),(834,'2023-08-27',8,180),(835,'2023-08-28',12,290),(836,'2023-08-28',27,270),(837,'2023-08-28',29,200),(838,'2023-08-28',266,130),(839,'2023-08-28',52,300),(840,'2023-08-28',8,180),(841,'2023-08-29',12,290),(842,'2023-08-29',29,200),(843,'2023-08-29',266,130),(844,'2023-08-29',13,600),(845,'2023-08-29',27,270),(846,'2023-08-29',8,180),(847,'2023-08-30',12,290),(848,'2023-08-30',27,270),(849,'2023-08-30',29,200),(850,'2023-08-30',266,130),(851,'2023-08-30',13,600),(852,'2023-08-30',8,180),(853,'2023-08-31',12,290),(854,'2023-08-31',29,200),(855,'2023-08-31',27,270),(856,'2023-08-31',266,130),(857,'2023-08-31',8,180),(858,'2023-08-31',52,600),(859,'2023-09-01',12,290),(860,'2023-09-01',29,200),(861,'2023-09-01',13,750),(862,'2023-09-01',27,270),(863,'2023-09-01',266,130),(864,'2023-09-02',12,290),(865,'2023-09-02',29,200),(866,'2023-09-02',27,270),(867,'2023-09-02',8,180),(868,'2023-09-02',266,130),(869,'2023-09-02',13,450),(870,'2023-09-03',12,290),(871,'2023-09-03',29,200),(872,'2023-09-03',27,270),(873,'2023-09-03',266,130),(874,'2023-09-03',8,180),(875,'2023-09-03',13,750),(876,'2023-09-04',12,290),(877,'2023-09-04',29,200),(878,'2023-09-04',27,270),(879,'2023-09-04',266,130),(880,'2023-09-04',13,300),(881,'2023-09-05',271,305),(882,'2023-09-05',29,200),(883,'2023-09-05',27,270),(884,'2023-09-05',5,180),(885,'2023-09-05',266,130),(886,'2023-09-05',8,180),(887,'2023-09-05',13,600),(888,'2023-09-06',271,305),(889,'2023-09-06',27,270),(890,'2023-09-06',29,200),(891,'2023-09-06',266,130),(892,'2023-09-06',13,600),(893,'2023-09-06',26,200),(894,'2023-09-07',12,290),(895,'2023-09-07',29,200),(896,'2023-09-07',13,750),(897,'2023-09-07',26,200),(898,'2023-09-07',27,270),(899,'2023-09-07',266,130),(901,'2023-09-08',29,200),(902,'2023-09-08',27,270),(903,'2023-09-08',266,130),(904,'2023-09-08',8,180),(905,'2023-09-08',13,750),(906,'2023-09-09',12,290),(907,'2023-09-09',29,200),(908,'2023-09-09',27,270),(909,'2023-09-09',5,180),(910,'2023-09-09',26,200),(911,'2023-09-09',52,600),(912,'2023-09-09',266,130),(913,'2023-09-10',272,305),(914,'2023-09-08',272,305),(915,'2023-09-10',273,320),(916,'2023-09-10',29,200),(917,'2023-09-10',266,130),(918,'2023-09-10',26,200),(919,'2023-09-10',52,900),(920,'2023-09-11',12,290),(921,'2023-09-11',27,270),(922,'2023-09-11',29,200),(923,'2023-09-11',26,200),(924,'2023-09-11',52,400),(925,'2023-09-11',266,130),(926,'2023-09-12',12,290),(927,'2023-09-12',27,270),(928,'2023-09-12',29,200),(929,'2023-09-12',266,130),(930,'2023-09-12',26,200),(931,'2023-09-12',13,900),(932,'2023-09-14',272,305),(933,'2023-09-13',272,305),(934,'2023-09-13',29,200),(935,'2023-09-13',27,270),(936,'2023-09-13',266,130),(937,'2023-09-13',26,200),(938,'2023-09-13',13,750),(939,'2023-09-14',29,200),(940,'2023-09-14',27,270),(941,'2023-09-14',10,130),(942,'2023-09-14',266,130),(943,'2023-09-14',13,900),(944,'2023-09-15',12,290),(945,'2023-09-15',29,200),(946,'2023-09-15',27,270),(947,'2023-09-15',26,200),(948,'2023-09-15',266,130),(949,'2023-09-15',13,900),(950,'2023-09-16',12,290),(951,'2023-09-16',29,200),(952,'2023-09-16',27,270),(953,'2023-09-16',26,200),(954,'2023-09-16',266,130),(955,'2023-09-16',5,180),(956,'2023-09-16',52,600),(957,'2023-09-17',12,290),(958,'2023-09-17',274,200),(959,'2023-09-17',27,270),(960,'2023-09-17',266,130),(961,'2023-09-17',10,130),(962,'2023-09-17',52,200),(963,'2023-09-18',12,290),(964,'2023-09-18',29,200),(965,'2023-09-18',27,270),(966,'2023-09-18',266,130),(967,'2023-09-18',52,800),(968,'2023-09-18',26,200),(969,'2023-09-19',272,305),(970,'2023-09-19',29,200),(971,'2023-09-19',27,270),(972,'2023-09-19',266,130),(973,'2023-09-19',10,130),(974,'2023-09-19',52,600),(975,'2023-09-19',5,180),(976,'2023-09-20',271,305),(977,'2023-09-20',29,200),(978,'2023-09-20',27,270),(979,'2023-09-20',26,200),(980,'2023-09-20',266,130),(981,'2023-09-20',52,400),(982,'2023-09-20',5,180),(983,'2023-09-21',272,305),(984,'2023-09-21',29,200),(985,'2023-09-21',27,270),(986,'2023-09-21',266,130),(987,'2023-09-21',52,600),(988,'2023-09-21',26,200),(989,'2023-09-22',272,305),(991,'2023-09-22',274,200),(992,'2023-09-22',27,270),(993,'2023-09-22',266,130),(994,'2023-09-22',10,130),(995,'2023-09-22',52,500),(997,'2023-09-22',12,290),(998,'2023-09-23',52,200),(999,'2023-09-23',12,290),(1000,'2023-09-23',275,170),(1001,'2023-09-23',29,200),(1002,'2023-09-23',27,270),(1003,'2023-09-23',266,130),(1004,'2023-09-24',12,290),(1005,'2023-09-24',29,100),(1006,'2023-09-24',27,270),(1007,'2023-09-24',266,65),(1009,'2023-09-24',52,200),(1010,'2023-09-24',26,200),(1011,'2023-09-25',12,290),(1012,'2023-09-25',29,200),(1013,'2023-09-25',27,270),(1014,'2023-09-25',266,130),(1015,'2023-09-25',52,500),(1016,'2023-09-25',10,130),(1017,'2023-09-26',12,290),(1018,'2023-09-26',29,200),(1019,'2023-09-26',27,270),(1020,'2023-09-26',266,130),(1021,'2023-09-26',52,400),(1022,'2023-09-26',8,180),(1023,'2023-09-26',276,950),(1025,'2023-09-27',271,305),(1027,'2023-09-27',27,270),(1028,'2023-09-27',275,170),(1029,'2023-09-27',10,130),(1030,'2023-09-27',52,300),(1032,'2023-09-28',274,200),(1033,'2023-09-28',27,270),(1034,'2023-09-28',266,130),(1035,'2023-09-28',272,305),(1036,'2023-09-28',8,180),(1037,'2023-09-28',52,200),(1038,'2023-09-29',272,305),(1039,'2023-09-29',274,200),(1040,'2023-09-29',27,270),(1041,'2023-09-29',266,130),(1042,'2023-09-27',274,200),(1043,'2023-09-29',277,140),(1044,'2023-09-29',278,300),(1045,'2023-09-30',279,300),(1046,'2023-09-30',274,200),(1047,'2023-09-30',27,270),(1048,'2023-09-30',266,130),(1049,'2023-09-30',277,140),(1050,'2023-09-30',278,300),(1051,'2023-10-01',279,300),(1052,'2023-10-01',27,270),(1053,'2023-10-01',274,200),(1054,'2023-10-01',266,130),(1055,'2023-10-01',52,400),(1056,'2023-10-01',8,180),(1057,'2023-10-02',12,290),(1058,'2023-10-02',274,200),(1059,'2023-10-02',27,270),(1060,'2023-10-02',266,130),(1061,'2023-10-02',8,180),(1063,'2023-10-02',278,500),(1064,'2023-10-03',12,290),(1065,'2023-10-03',274,200),(1066,'2023-10-03',266,130),(1067,'2023-10-03',27,270),(1068,'2023-10-03',8,180),(1069,'2023-10-03',278,200),(1070,'2023-10-04',12,290),(1071,'2023-10-04',266,130),(1072,'2023-10-04',27,270),(1073,'2023-10-04',274,200),(1074,'2023-10-04',8,180),(1075,'2023-10-04',13,600),(1076,'2023-10-05',12,290),(1077,'2023-10-05',27,270),(1078,'2023-10-05',266,130),(1079,'2023-10-05',274,200),(1080,'2023-10-05',8,180),(1081,'2023-10-05',52,300),(1082,'2023-10-06',12,290),(1083,'2023-10-06',274,200),(1084,'2023-10-06',27,270),(1085,'2023-10-06',8,180),(1086,'2023-10-06',266,130),(1087,'2023-10-06',52,300),(1088,'2023-10-07',12,290),(1089,'2023-10-07',274,200),(1090,'2023-10-07',266,130),(1091,'2023-10-07',27,270),(1092,'2023-10-07',8,180),(1093,'2023-10-07',52,300),(1094,'2023-10-08',12,290),(1095,'2023-10-08',27,270),(1096,'2023-10-08',274,200),(1097,'2023-10-08',266,130),(1098,'2023-10-08',8,180),(1099,'2023-10-08',52,300),(1100,'2023-10-09',12,290),(1101,'2023-10-09',274,200),(1102,'2023-10-09',266,130),(1103,'2023-10-09',27,270),(1104,'2023-10-09',5,200),(1105,'2023-10-09',8,180),(1106,'2023-10-09',52,300),(1107,'2023-10-10',12,290),(1108,'2023-10-10',266,130),(1109,'2023-10-10',274,200),(1110,'2023-10-10',27,270),(1111,'2023-10-10',8,180),(1112,'2023-10-10',52,300),(1113,'2023-10-11',12,290),(1114,'2023-10-11',274,200),(1115,'2023-10-11',266,130),(1116,'2023-10-11',27,270),(1117,'2023-10-11',8,180),(1118,'2023-10-11',52,300),(1121,'2023-10-12',279,300),(1123,'2023-10-12',27,270),(1124,'2023-10-12',274,200),(1125,'2023-10-12',266,130),(1126,'2023-10-12',277,140),(1127,'2023-10-13',272,305),(1128,'2023-10-13',274,200),(1129,'2023-10-13',27,270),(1130,'2023-10-13',266,130),(1131,'2023-10-13',277,140),(1132,'2023-10-13',278,300),(1133,'2023-10-14',279,300),(1134,'2023-10-14',274,200),(1135,'2023-10-14',266,130),(1136,'2023-10-14',27,270),(1137,'2023-10-14',278,150),(1138,'2023-10-15',279,300),(1139,'2023-10-15',274,200),(1140,'2023-10-15',27,270),(1141,'2023-10-15',266,130),(1142,'2023-10-15',8,180),(1143,'2023-10-16',12,290),(1144,'2023-10-16',274,200),(1145,'2023-10-16',266,130),(1146,'2023-10-16',27,270),(1147,'2023-10-16',8,180),(1148,'2023-10-16',278,200),(1149,'2023-10-17',279,300),(1150,'2023-10-17',274,200),(1151,'2023-10-17',27,270),(1152,'2023-10-17',266,130),(1153,'2023-10-17',8,180),(1154,'2023-10-17',278,300),(1155,'2023-10-18',279,300),(1156,'2023-10-18',274,200),(1157,'2023-10-18',27,270),(1158,'2023-10-18',266,130),(1159,'2023-10-18',8,180),(1160,'2023-10-18',278,300),(1161,'2023-10-19',279,300),(1162,'2023-10-19',274,200),(1163,'2023-10-19',266,130),(1164,'2023-10-19',27,270),(1165,'2023-10-19',8,180),(1166,'2023-10-19',278,300),(1167,'2023-10-20',12,290),(1168,'2023-10-20',27,270),(1169,'2023-10-20',274,200),(1170,'2023-10-20',266,130),(1171,'2023-10-20',8,180),(1172,'2023-10-20',278,300),(1173,'2023-10-21',279,300),(1174,'2023-10-21',274,200),(1175,'2023-10-21',266,130),(1176,'2023-10-21',27,270),(1177,'2023-10-21',8,180),(1178,'2023-10-21',278,300),(1179,'2023-10-22',279,300),(1181,'2023-10-22',274,200),(1182,'2023-10-22',266,130),(1184,'2023-10-22',8,180),(1186,'2023-10-22',13,150),(1187,'2023-10-23',279,300),(1188,'2023-10-23',27,270),(1189,'2023-10-23',274,200),(1191,'2023-10-23',8,180),(1192,'2023-10-23',13,300),(1193,'2023-10-24',12,290),(1194,'2023-10-24',280,130),(1195,'2023-10-23',280,130),(1196,'2023-10-24',274,200),(1197,'2023-10-24',27,270),(1198,'2023-10-24',52,300),(1199,'2023-10-25',12,290),(1200,'2023-10-25',274,200),(1201,'2023-10-25',27,270),(1203,'2023-10-25',280,130),(1204,'2023-10-25',10,130),(1205,'2023-10-25',52,300),(1206,'2023-10-26',6,155),(1207,'2023-10-26',274,200),(1208,'2023-10-26',280,130),(1209,'2023-10-26',27,270),(1210,'2023-10-26',10,130),(1211,'2023-10-26',52,300),(1212,'2023-10-27',12,290),(1213,'2023-10-27',27,270),(1214,'2023-10-27',274,200),(1215,'2023-10-27',280,130),(1216,'2023-10-27',52,300),(1217,'2023-10-27',10,130),(1218,'2023-10-28',12,290),(1219,'2023-10-28',274,200),(1220,'2023-10-28',27,270),(1221,'2023-10-28',280,130),(1222,'2023-10-28',8,180),(1223,'2023-10-28',52,300),(1224,'2023-10-29',12,290),(1225,'2023-10-29',280,130),(1226,'2023-10-29',274,200),(1227,'2023-10-29',27,270),(1228,'2023-10-29',10,130),(1229,'2023-10-29',52,300),(1230,'2023-10-30',12,290),(1231,'2023-10-30',274,200),(1232,'2023-10-30',266,130),(1233,'2023-10-30',27,270),(1234,'2023-10-30',10,130),(1235,'2023-10-30',52,300),(1236,'2023-10-31',12,290),(1237,'2023-10-31',274,200),(1238,'2023-10-31',280,130),(1239,'2023-10-31',27,270),(1240,'2023-10-31',10,130),(1241,'2023-10-31',52,300),(1242,'2023-11-01',12,290),(1243,'2023-11-01',274,200),(1244,'2023-11-01',27,270),(1245,'2023-11-01',266,130),(1247,'2023-11-01',5,200),(1248,'2023-11-01',52,300),(1249,'2023-11-01',8,180),(1250,'2023-11-02',12,290),(1251,'2023-11-02',27,270),(1252,'2023-11-02',274,200),(1253,'2023-11-02',280,130),(1254,'2023-11-02',10,130),(1255,'2023-11-02',52,300),(1256,'2023-11-03',12,290),(1257,'2023-11-03',27,270),(1258,'2023-11-03',274,200),(1259,'2023-11-03',280,130),(1260,'2023-11-03',5,200),(1261,'2023-11-03',10,130),(1262,'2023-11-03',52,300),(1263,'2023-11-02',5,200),(1264,'2023-11-04',12,290),(1265,'2023-11-04',274,200),(1266,'2023-11-04',27,270),(1267,'2023-11-04',280,130),(1268,'2023-11-04',5,200),(1269,'2023-11-04',10,130),(1270,'2023-11-04',52,300),(1272,'2023-11-05',271,305),(1273,'2023-11-05',281,300),(1274,'2023-11-05',274,200),(1275,'2023-11-05',280,130),(1276,'2023-11-06',279,300),(1277,'2023-11-06',274,200),(1278,'2023-11-06',280,130),(1279,'2023-11-06',281,300),(1280,'2023-11-06',10,130),(1281,'2023-11-06',52,300),(1282,'2023-11-07',279,300),(1283,'2023-11-07',274,200),(1284,'2023-11-07',280,130),(1286,'2023-11-07',10,130),(1287,'2023-11-07',52,150),(1288,'2023-11-07',49,390),(1289,'2023-11-08',279,300),(1290,'2023-11-08',27,270),(1291,'2023-11-08',274,200),(1293,'2023-11-08',266,130),(1294,'2023-11-08',5,200),(1295,'2023-11-08',52,300),(1296,'2023-11-09',271,305),(1297,'2023-11-09',274,200),(1298,'2023-11-09',27,270),(1299,'2023-11-09',266,130),(1300,'2023-11-09',5,200),(1302,'2023-11-09',52,300),(1303,'2023-11-09',265,930),(1304,'2023-11-10',12,290),(1305,'2023-11-10',27,270),(1306,'2023-11-10',274,200),(1307,'2023-11-10',5,200),(1308,'2023-11-10',280,130),(1310,'2023-11-10',52,300),(1311,'2023-11-11',12,290),(1312,'2023-11-11',27,270),(1313,'2023-11-11',274,200),(1314,'2023-11-11',280,130),(1316,'2023-11-11',52,300),(1317,'2023-11-12',12,290),(1318,'2023-11-12',274,200),(1319,'2023-11-12',27,270),(1320,'2023-11-12',280,130),(1322,'2023-11-12',52,450),(1323,'2023-11-13',12,290),(1324,'2023-11-13',274,200),(1325,'2023-11-13',280,130),(1326,'2023-11-13',27,270),(1328,'2023-11-13',52,300),(1329,'2023-11-14',12,290),(1330,'2023-11-14',27,270),(1331,'2023-11-14',280,130),(1332,'2023-11-14',274,200),(1334,'2023-11-14',5,200),(1335,'2023-11-13',5,200),(1336,'2023-11-14',52,300),(1337,'2023-11-15',12,290),(1338,'2023-11-15',27,270),(1339,'2023-11-15',274,200),(1340,'2023-11-15',280,130),(1343,'2023-11-15',52,300),(1344,'2023-11-16',12,290),(1345,'2023-11-16',274,200),(1346,'2023-11-16',27,270),(1347,'2023-11-16',280,130),(1349,'2023-11-16',52,450),(1350,'2023-11-17',12,290),(1351,'2023-11-17',274,200),(1352,'2023-11-17',27,270),(1353,'2023-11-17',280,130),(1355,'2023-11-17',52,600),(1356,'2023-11-18',12,290),(1357,'2023-11-18',27,270),(1358,'2023-11-18',274,200),(1359,'2023-11-18',280,130),(1361,'2023-11-18',52,300),(1362,'2023-11-18',5,200),(1363,'2023-11-19',12,290),(1364,'2023-11-19',274,200),(1365,'2023-11-19',27,270),(1366,'2023-11-19',280,130),(1368,'2023-11-19',52,300),(1369,'2023-11-19',5,200),(1370,'2023-11-19',282,150),(1371,'2023-11-18',282,150),(1372,'2023-11-17',282,150),(1373,'2023-11-16',282,150),(1374,'2023-11-15',282,150),(1375,'2023-11-14',282,150),(1376,'2023-11-13',282,150),(1377,'2023-11-12',282,150),(1378,'2023-11-11',282,150),(1379,'2023-11-10',282,150),(1380,'2023-11-09',282,150),(1381,'2023-11-08',282,150),(1382,'2023-11-20',12,290),(1383,'2023-11-20',27,270),(1384,'2023-11-20',274,200),(1385,'2023-11-20',280,130),(1386,'2023-11-20',282,150),(1387,'2023-11-20',5,200),(1388,'2023-11-20',52,300),(1389,'2023-11-21',12,290),(1390,'2023-11-21',27,270),(1391,'2023-11-21',274,200),(1392,'2023-11-21',280,130),(1393,'2023-11-21',282,150),(1394,'2023-11-21',52,300),(1395,'2023-11-22',12,290),(1396,'2023-11-22',27,270),(1397,'2023-11-22',274,200),(1398,'2023-11-22',5,200),(1399,'2023-11-22',282,150),(1400,'2023-11-22',52,300),(1401,'2023-11-22',280,130),(1403,'2023-11-23',274,200),(1404,'2023-11-23',27,270),(1405,'2023-11-23',280,130),(1406,'2023-11-23',5,200),(1407,'2023-11-23',282,150),(1408,'2023-11-23',52,600),(1409,'2023-11-23',271,305),(1410,'2023-11-24',12,290),(1411,'2023-11-24',27,270),(1412,'2023-11-24',280,130),(1413,'2023-11-24',274,200),(1414,'2023-11-24',282,150),(1415,'2023-11-24',52,300),(1416,'2023-11-25',12,290),(1417,'2023-11-25',27,270),(1418,'2023-11-25',280,130),(1419,'2023-11-25',282,150),(1420,'2023-11-25',274,200),(1421,'2023-11-25',52,600),(1422,'2023-11-26',12,290),(1423,'2023-11-26',27,270),(1424,'2023-11-26',280,130),(1425,'2023-11-26',274,200),(1426,'2023-11-26',5,200),(1427,'2023-11-26',52,300),(1428,'2023-11-26',265,930),(1429,'2023-11-26',283,150),(1430,'2023-11-26',284,150),(1431,'2023-11-26',285,140),(1432,'2023-11-27',12,290),(1433,'2023-11-27',27,270),(1434,'2023-11-27',280,130),(1435,'2023-11-27',274,200),(1436,'2023-11-27',283,75),(1437,'2023-11-27',284,75),(1438,'2023-11-27',282,150),(1439,'2023-11-27',52,600),(1440,'2023-11-28',12,290),(1441,'2023-11-28',26,200),(1442,'2023-11-28',27,270),(1443,'2023-11-28',274,200),(1444,'2023-11-28',52,600),(1445,'2023-11-28',280,130),(1446,'2023-11-29',12,290),(1448,'2023-11-29',274,200),(1449,'2023-11-29',27,270),(1450,'2023-11-29',266,130),(1451,'2023-11-29',282,150),(1452,'2023-11-29',52,300),(1453,'2023-11-29',5,200),(1454,'2023-11-30',12,290),(1455,'2023-11-30',274,200),(1456,'2023-11-30',27,270),(1457,'2023-11-30',280,130),(1458,'2023-11-30',282,150),(1459,'2023-11-30',52,600),(1460,'2023-11-30',5,200),(1461,'2023-12-01',271,305),(1462,'2023-12-01',27,270),(1463,'2023-12-01',274,200),(1464,'2023-12-01',280,130),(1465,'2023-12-01',52,300),(1466,'2023-12-01',15,220),(1467,'2023-12-02',12,290),(1468,'2023-12-02',27,270),(1469,'2023-12-02',280,130),(1470,'2023-12-02',274,200),(1471,'2023-12-02',282,150),(1472,'2023-12-02',52,300),(1473,'2023-12-03',12,290),(1474,'2023-12-03',27,270),(1475,'2023-12-03',280,130),(1476,'2023-12-03',274,200),(1477,'2023-12-03',282,150),(1478,'2023-12-03',52,600),(1479,'2023-12-04',12,290),(1480,'2023-12-04',27,270),(1481,'2023-12-04',274,200),(1482,'2023-12-04',280,130),(1483,'2023-12-04',282,150),(1484,'2023-12-04',52,300),(1485,'2023-12-05',12,290),(1486,'2023-12-05',274,200),(1487,'2023-12-05',27,270),(1488,'2023-12-05',280,130),(1489,'2023-12-05',52,300),(1490,'2023-12-05',282,150),(1491,'2023-12-06',12,290),(1492,'2023-12-06',27,270),(1493,'2023-12-06',274,200),(1494,'2023-12-06',280,130),(1495,'2023-12-06',282,150),(1496,'2023-12-06',52,600),(1497,'2023-12-07',12,290),(1498,'2023-12-07',274,200),(1499,'2023-12-07',27,270),(1500,'2023-12-07',52,300),(1501,'2023-12-07',280,130),(1502,'2023-12-07',282,150),(1503,'2023-12-08',12,290),(1504,'2023-12-08',27,270),(1505,'2023-12-08',274,200),(1506,'2023-12-08',280,130),(1507,'2023-12-08',282,150),(1508,'2023-12-08',52,300),(1509,'2023-12-09',12,290),(1510,'2023-12-09',274,200),(1511,'2023-12-09',27,270),(1512,'2023-12-09',52,100),(1513,'2023-12-09',266,130),(1514,'2023-12-09',282,150),(1515,'2023-12-10',12,290),(1516,'2023-12-10',285,140),(1517,'2023-12-10',265,930),(1518,'2023-12-10',283,300),(1519,'2023-12-10',284,375),(1520,'2023-12-10',27,270),(1521,'2023-12-10',274,200),(1522,'2023-12-10',280,130),(1523,'2023-12-10',5,200),(1524,'2023-12-10',282,150),(1526,'2023-12-10',288,125),(1527,'2023-12-10',287,140),(1528,'2023-12-10',286,150),(1529,'2023-12-11',12,290),(1530,'2023-12-11',27,270),(1531,'2023-12-11',274,200),(1532,'2023-12-11',280,130),(1533,'2023-12-11',52,600),(1534,'2023-12-11',5,200),(1535,'2023-12-11',282,150),(1536,'2023-12-12',12,290),(1537,'2023-12-12',27,270),(1538,'2023-12-12',274,200),(1539,'2023-12-12',266,130),(1540,'2023-12-12',52,450),(1541,'2023-12-12',282,150),(1542,'2023-12-13',12,290),(1543,'2023-12-13',27,270),(1544,'2023-12-13',274,200),(1545,'2023-12-13',266,130),(1546,'2023-12-13',282,150),(1547,'2023-12-13',52,300),(1548,'2023-12-13',283,150),(1549,'2023-12-13',284,150),(1550,'2023-12-13',265,930),(1551,'2023-12-13',286,150),(1552,'2023-12-13',289,115),(1553,'2023-12-13',290,150),(1554,'2023-12-14',279,300),(1555,'2023-12-14',291,390),(1556,'2023-12-14',266,130),(1557,'2023-12-14',274,200),(1558,'2023-12-14',282,150),(1559,'2023-12-14',52,300),(1560,'2023-12-15',279,300),(1561,'2023-12-15',281,300),(1562,'2023-12-15',274,200),(1563,'2023-12-15',280,130),(1564,'2023-12-15',282,150),(1565,'2023-12-15',52,300),(1566,'2023-12-15',289,115),(1567,'2023-12-15',285,140),(1568,'2023-12-15',286,150),(1569,'2023-12-15',290,150),(1570,'2023-12-16',279,300),(1572,'2023-12-16',49,390),(1573,'2023-12-16',274,200),(1574,'2023-12-16',280,130),(1576,'2023-12-16',52,300),(1577,'2023-12-16',275,170),(1578,'2023-12-16',290,300),(1579,'2023-12-16',288,125),(1580,'2023-12-16',282,150),(1581,'2023-12-16',286,300),(1582,'2023-12-17',12,290),(1583,'2023-12-17',286,300),(1584,'2023-12-17',292,250),(1585,'2023-12-17',281,300),(1586,'2023-12-17',274,200),(1587,'2023-12-17',280,130),(1588,'2023-12-17',282,150),(1589,'2023-12-17',52,300),(1590,'2023-12-17',285,140),(1591,'2023-12-17',289,115),(1592,'2023-12-17',290,150),(1594,'2023-12-18',291,390),(1595,'2023-12-18',274,200),(1596,'2023-12-18',280,130),(1597,'2023-12-18',282,150),(1598,'2023-12-18',52,300),(1599,'2023-12-18',271,305),(1600,'2023-12-18',290,150),(1601,'2023-12-18',286,150),(1602,'2023-12-19',279,300),(1603,'2023-12-19',281,300),(1604,'2023-12-19',274,200),(1605,'2023-12-19',280,130),(1606,'2023-12-19',5,400),(1607,'2023-12-18',5,200),(1608,'2023-12-17',5,200),(1609,'2023-12-19',52,300),(1610,'2023-12-19',12,290),(1611,'2023-12-19',286,150),(1612,'2023-12-19',290,150),(1613,'2023-12-19',292,125),(1614,'2023-12-19',282,150),(1615,'2023-12-19',293,90),(1616,'2023-12-19',284,150),(1617,'2023-12-20',279,600),(1618,'2023-12-20',281,300),(1619,'2023-12-20',274,200),(1620,'2023-12-20',280,130),(1621,'2023-12-20',5,200),(1622,'2023-12-20',282,150),(1623,'2023-12-20',52,300),(1624,'2023-12-21',12,290),(1625,'2023-12-21',274,200),(1626,'2023-12-21',27,270),(1627,'2023-12-21',280,130),(1628,'2023-12-21',5,200),(1629,'2023-12-21',282,150),(1630,'2023-12-21',52,300),(1631,'2023-12-22',12,290),(1632,'2023-12-22',274,200),(1633,'2023-12-22',27,270),(1634,'2023-12-22',280,130),(1635,'2023-12-22',5,200),(1636,'2023-12-22',282,150),(1637,'2023-12-22',52,600),(1638,'2023-12-23',12,290),(1639,'2023-12-23',286,150),(1640,'2023-12-23',293,90),(1641,'2023-12-23',290,150),(1642,'2023-12-23',274,200),(1643,'2023-12-23',280,130),(1644,'2023-12-23',52,300),(1645,'2023-12-24',12,290),(1646,'2023-12-24',280,130),(1647,'2023-12-24',274,200),(1648,'2023-12-24',5,200),(1649,'2023-12-24',282,150),(1650,'2023-12-24',52,300),(1651,'2023-12-24',286,300),(1652,'2023-12-24',290,150),(1653,'2023-12-24',293,90),(1654,'2023-12-25',12,290),(1655,'2023-12-25',52,450),(1656,'2023-12-25',27,270),(1657,'2023-12-25',274,200),(1659,'2023-12-25',282,150),(1660,'2023-12-25',280,130),(1661,'2023-12-26',12,290),(1662,'2023-12-26',27,270),(1663,'2023-12-26',274,200),(1664,'2023-12-26',266,130),(1665,'2023-12-26',8,180),(1666,'2023-12-26',52,300),(1667,'2023-12-26',294,150),(1668,'2023-12-26',290,150),(1669,'2023-12-26',283,75),(1670,'2023-12-26',292,125),(1672,'2023-12-11',289,115),(1673,'2023-12-11',294,150),(1674,'2023-12-11',290,150),(1675,'2023-12-27',294,150),(1676,'2023-12-27',290,150),(1677,'2023-12-27',292,125),(1678,'2023-12-27',289,115),(1679,'2023-12-27',272,305),(1680,'2023-12-27',27,270),(1681,'2023-12-27',274,200),(1682,'2023-12-27',8,180),(1683,'2023-12-27',52,450),(1684,'2023-12-28',12,290),(1685,'2023-12-28',272,305),(1686,'2023-12-28',27,270),(1687,'2023-12-28',274,200),(1688,'2023-12-28',266,130),(1689,'2023-12-28',294,150),(1690,'2023-12-28',293,90),(1691,'2023-12-28',292,125),(1692,'2023-12-28',287,210),(1693,'2023-12-28',52,300),(1694,'2023-12-28',282,150),(1695,'2023-12-29',12,580),(1696,'2023-12-29',27,270),(1697,'2023-12-29',274,200),(1698,'2023-12-29',280,130),(1699,'2023-12-29',282,300),(1700,'2023-12-29',52,600),(1701,'2023-12-29',295,190),(1702,'2023-12-29',289,115),(1703,'2023-12-29',294,150),(1704,'2023-12-29',292,250),(1705,'2023-12-30',12,290),(1706,'2023-12-30',294,150),(1707,'2023-12-30',289,115),(1708,'2023-12-30',292,125),(1709,'2023-12-30',286,300),(1710,'2023-12-30',27,270),(1711,'2023-12-30',274,200),(1712,'2023-12-30',282,150),(1713,'2023-12-30',52,300),(1714,'2023-12-30',265,930),(1715,'2023-12-31',12,580),(1716,'2023-12-31',27,270),(1717,'2023-12-31',274,200),(1718,'2023-12-31',280,130),(1719,'2023-12-31',282,150),(1720,'2023-12-31',52,300),(1721,'2024-01-01',12,290),(1722,'2024-01-01',27,270),(1723,'2024-01-01',274,200),(1724,'2024-01-01',282,150),(1725,'2024-01-01',280,130),(1726,'2024-01-01',52,300),(1727,'2024-01-01',286,150),(1728,'2024-01-01',294,300),(1729,'2024-01-02',12,290),(1730,'2024-01-02',27,270),(1731,'2024-01-02',274,200),(1732,'2024-01-02',266,130),(1733,'2024-01-02',282,150),(1734,'2024-01-02',52,300),(1735,'2024-01-03',275,340),(1736,'2024-01-03',296,520),(1737,'2024-01-03',297,140),(1738,'2024-01-03',298,330),(1739,'2024-01-02',298,330),(1740,'2024-01-02',297,70),(1741,'2024-01-03',27,270),(1742,'2024-01-03',274,200),(1743,'2024-01-03',266,130),(1744,'2024-01-03',282,150),(1745,'2024-01-03',52,300),(1746,'2024-01-03',276,950),(1747,'2024-01-03',294,150),(1748,'2024-01-03',299,500),(1750,'2024-01-04',290,150),(1751,'2024-01-04',279,300),(1752,'2024-01-04',27,270),(1753,'2024-01-04',274,200),(1754,'2024-01-04',266,130),(1755,'2024-01-04',277,140),(1756,'2024-01-04',52,300),(1757,'2024-01-04',271,305),(1758,'2024-02-03',12,290),(1760,'2024-02-03',27,270),(1761,'2024-02-03',274,200),(1762,'2024-02-03',300,500),(1763,'2024-02-03',282,150),(1764,'2024-02-03',52,300),(1765,'2024-02-03',275,170),(1766,'2024-02-04',12,290),(1767,'2024-02-04',269,100),(1768,'2024-02-04',27,270),(1769,'2024-02-04',274,200),(1770,'2024-02-04',5,200),(1771,'2024-02-04',52,600),(1772,'2024-02-04',8,180),(1773,'2024-02-05',12,290),(1774,'2024-02-05',4,400),(1775,'2024-02-05',27,270),(1776,'2024-02-05',269,100),(1777,'2024-02-05',52,300),(1779,'2024-02-05',8,180),(1780,'2024-02-06',12,290),(1781,'2024-02-06',47,200),(1782,'2024-02-06',266,130),(1783,'2024-02-06',27,270),(1785,'2024-02-06',52,600),(1786,'2024-02-06',8,180),(1787,'2024-02-07',12,290),(1788,'2024-02-07',27,270),(1789,'2024-02-07',47,200),(1790,'2024-02-07',280,130),(1791,'2024-02-07',277,140),(1792,'2024-02-07',52,300),(1793,'2024-02-08',302,270),(1794,'2024-02-08',27,270),(1795,'2024-02-08',266,130),(1796,'2024-02-08',47,200),(1797,'2024-02-08',277,140),(1798,'2024-02-08',52,300),(1799,'2024-02-08',304,150),(1800,'2024-02-08',303,60),(1801,'2024-02-08',290,150),(1802,'2024-02-08',294,150),(1803,'2024-02-08',300,500),(1804,'2024-02-09',12,290),(1805,'2024-02-09',304,150),(1806,'2024-02-09',294,150),(1807,'2024-02-09',290,150),(1808,'2024-02-09',303,60),(1809,'2024-02-09',27,270),(1810,'2024-02-09',266,130),(1811,'2024-02-09',47,200),(1812,'2024-02-09',8,180),(1813,'2024-02-09',52,600),(1814,'2024-02-09',5,200),(1815,'2024-02-10',12,290),(1816,'2024-02-10',27,270),(1817,'2024-02-10',8,180),(1818,'2024-02-10',5,200),(1819,'2024-02-10',52,300),(1820,'2024-02-10',47,200),(1821,'2024-02-10',266,130);
/*!40000 ALTER TABLE `consumed` ENABLE KEYS */;
UNLOCK TABLES;
commit;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS consumed_BEFORE_INSERT */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `consumed_BEFORE_INSERT` BEFORE INSERT ON `consumed` FOR EACH ROW BEGIN
declare error_msg text;
declare existed_id int unsigned;
select id from consumed where
		date = NEW.date
    and product_id = NEW.product_id
    limit 1 into existed_id;
    
if (existed_id is not null) then
	set error_msg = concat('Unable to insert, due date=', NEW.date, ' and product_id=', NEW.product_id, ' already existed in id=', existed_id);
	SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = error_msg;
end if;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS consumed_BEFORE_UPDATE */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `consumed_BEFORE_UPDATE` BEFORE UPDATE ON `consumed` FOR EACH ROW BEGIN
declare error_msg text;
declare existed_id int unsigned;
if(!(OLD.date <=> NEW.date) or !(OLD.product_id <=> NEW.product_id)) then
	select id from consumed where
			date = NEW.date
			and product_id = NEW.product_id
			limit 1 into existed_id;

	if (existed_id is not null) then
		set error_msg = concat('Unable to update, due date=', NEW.date, ' and product_id=', NEW.product_id, ' already existed in id=', existed_id);
		SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = error_msg;
	end if;
end if;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `limitation`
--

DROP TABLE IF EXISTS `limitation`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `limitation` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `account_id` int unsigned NOT NULL,
  `title` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `b` decimal(5,2) unsigned DEFAULT NULL,
  `j` decimal(5,2) unsigned DEFAULT NULL,
  `u` decimal(5,2) unsigned DEFAULT NULL,
  `b_to_kkal` decimal(6,2) unsigned GENERATED ALWAYS AS ((`b` * 4)) VIRTUAL,
  `j_to_kkal` decimal(6,2) unsigned GENERATED ALWAYS AS ((`j` * 9)) VIRTUAL,
  `u_to_kkal` decimal(6,2) unsigned GENERATED ALWAYS AS ((`u` * 4)) VIRTUAL,
  PRIMARY KEY (`id`) USING BTREE,
  KEY `limitation_account_account_id_fk` (`account_id`) USING BTREE,
  CONSTRAINT `limitation_account_account_id_fk` FOREIGN KEY (`account_id`) REFERENCES `account` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `limitation`
--

LOCK TABLES `limitation` WRITE;
/*!40000 ALTER TABLE `limitation` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `limitation` (`id`, `account_id`, `title`, `b`, `j`, `u`) VALUES (1,1,'',1.50,0.50,NULL);
/*!40000 ALTER TABLE `limitation` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `product`
--

DROP TABLE IF EXISTS `product`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `product` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `store_id` int unsigned NOT NULL,
  `title` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `portion_gram` decimal(4,0) unsigned NOT NULL,
  `b` decimal(5,2) unsigned NOT NULL,
  `j` decimal(5,2) unsigned NOT NULL,
  `u` decimal(5,2) unsigned NOT NULL,
  `b_to_kkal` decimal(6,2) unsigned GENERATED ALWAYS AS ((`b` * 4)) VIRTUAL NOT NULL,
  `j_to_kkal` decimal(6,2) unsigned GENERATED ALWAYS AS ((`j` * 9)) VIRTUAL NOT NULL,
  `u_to_kkal` decimal(6,2) unsigned GENERATED ALWAYS AS ((`u` * 4)) VIRTUAL NOT NULL,
  `kkal` decimal(7,2) unsigned GENERATED ALWAYS AS (((`b_to_kkal` + `j_to_kkal`) + `u_to_kkal`)) VIRTUAL NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  KEY `product_store_store_id_fk` (`store_id`) USING BTREE,
  CONSTRAINT `product_store_store_id_fk` FOREIGN KEY (`store_id`) REFERENCES `store` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC COMMENT='bju and kkal values: per 100 gram';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `product`
--

LOCK TABLES `product` WRITE;
/*!40000 ALTER TABLE `product` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `product` (`id`, `store_id`, `title`, `portion_gram`, `b`, `j`, `u`) VALUES (1,1,'  ',400,9.00,3.00,5.00),(2,1,' ',245,8.00,19.00,10.00),(3,1,'-      ( )',200,22.00,26.00,3.00),(4,1,'   ',200,5.12,6.51,16.44),(5,1,'  ',200,2.50,2.00,13.00),(6,1,'    ',155,15.00,19.00,7.00),(7,1,' ',150,2.90,5.50,25.40),(8,1,' ',180,1.50,0.20,2.00),(9,1,' ',200,4.00,9.00,21.00),(10,1,'  (++)',130,1.50,0.20,2.00),(11,1,'  ( )',195,18.00,6.00,14.00),(12,1,'   ,  ( )',290,33.00,18.00,11.00),(13,1,'  (  )',150,0.40,0.40,9.80),(14,1,'    ',265,28.00,22.00,9.00),(15,1,'       ',220,18.00,28.00,6.00),(16,1,'   ',200,1.60,2.40,5.00),(17,1,'   ',220,5.00,19.00,18.00),(24,1,'-      ( )',200,26.00,28.00,3.00),(25,1,'   ',150,4.30,5.40,23.00),(26,1,'  ( )',200,2.00,0.20,10.00),(27,1,'  ',270,1.30,3.30,9.60),(28,1,'   ',220,3.40,14.30,4.60),(29,1,'   ',200,2.30,2.10,12.00),(30,1,'       ',200,4.40,9.00,11.00),(45,1,'      ( )',330,7.60,3.60,28.25),(46,2,'    ',327,15.30,11.80,3.60),(47,2,'   ',200,4.10,4.70,23.00),(48,2,'    ',300,3.50,3.10,5.60),(49,2,' ',390,1.00,3.20,8.30),(50,2,'   ',236,6.20,13.30,3.00),(51,1,' ',25,1.13,0.40,73.20),(52,1,' ',600,0.40,0.40,9.80),(261,1,'      ',290,21.00,34.00,20.00),(262,1,'    ( )',190,11.00,1.20,4.40),(263,3,'  , ',220,0.80,0.40,11.10),(264,3,' 1%',930,3.30,1.00,4.50),(265,1,' Bio  turbo fit',930,3.00,1.00,4.40),(266,1,'  fortuna',130,24.60,0.45,0.20),(267,1,' ',245,21.00,6.00,0.00),(269,1,'  ',100,16.00,0.20,0.00),(270,1,' ',500,0.70,0.10,5.80),(271,1,'    ',305,28.00,22.00,4.00),(272,1,'     ( )',305,28.00,22.00,4.00),(273,1,'  ',320,7.00,18.00,8.00),(274,1,'    ( )',200,2.40,4.00,23.70),(275,1,'     ( )',170,20.00,7.00,4.00),(276,1,'  ',950,3.00,1.00,4.00),(277,2,'   (+)',140,0.00,0.00,3.50),(278,2,' ',100,0.00,0.00,9.00),(279,2,'  ',300,10.20,7.30,4.20),(280,1,'  fortuna ',130,20.80,0.93,0.00),(281,2,'      ',300,0.80,1.00,5.00),(282,1,'   (+)',150,1.50,0.20,2.00),(283,1,'   \"\"  ',75,16.00,2.00,7.60),(284,1,'   \"\"  ',75,16.00,7.00,12.00),(285,1,'  , , ,  ',140,3.00,12.00,12.00),(286,1,'    ',150,1.00,0.50,12.40),(287,1,'   ',140,0.80,0.40,12.40),(288,1,'     ',125,1.00,10.00,11.00),(289,1,'     ',115,3.00,7.00,12.00),(290,1,'       ',150,15.00,6.00,14.00),(291,2,' ',390,1.30,3.30,9.60),(292,1,'',125,1.00,0.50,6.60),(293,1,'     ',90,15.00,6.00,19.00),(294,1,'     ',150,15.00,6.00,14.00),(295,1,'      ',190,15.00,23.00,13.00),(296,1,'   ',520,0.00,7.00,7.00),(297,1,'  bombbar ',70,15.00,14.00,12.00),(298,1,' bombbar    ',330,0.00,0.00,0.50),(299,1,'',500,0.60,0.20,16.80),(300,1,' exponenta ',500,6.00,0.00,3.00),(302,1,'     ',180,13.00,10.20,2.40),(303,1,'  ',60,5.90,16.70,20.40),(304,1,'  ',150,21.20,52.60,16.70),(305,2,'-   ',140,16.70,19.90,1.70),(306,1,'   , , ',210,12.40,11.00,1.70),(307,2,'    ',320,13.53,19.14,0.81);
/*!40000 ALTER TABLE `product` ENABLE KEYS */;
UNLOCK TABLES;
commit;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS product_BEFORE_INSERT */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `product_BEFORE_INSERT` BEFORE INSERT ON `product` FOR EACH ROW BEGIN
update store set updated_at=current_timestamp() where id=NEW.store_id;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS product_BEFORE_UPDATE */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `product_BEFORE_UPDATE` BEFORE UPDATE ON `product` FOR EACH ROW BEGIN
if(!(OLD.id <=> NEW.id)
 or !(OLD.store_id <=> NEW.store_id)
 or !(OLD.title <=> NEW.title)
 or !(OLD.portion_gram <=> NEW.portion_gram)
 or !(OLD.b <=> NEW.b)
 or !(OLD.j <=> NEW.j)
 or !(OLD.u <=> NEW.u)
 ) then
 update store set updated_at=current_timestamp() where id in (OLD.store_id, NEW.store_id);
end if;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS product_BEFORE_DELETE */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `product_BEFORE_DELETE` BEFORE DELETE ON `product` FOR EACH ROW BEGIN
update store set updated_at=current_timestamp() where id=OLD.store_id;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `setting`
--

DROP TABLE IF EXISTS `setting`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `setting` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `key` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `value` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT 'string or json',
  `roles` json DEFAULT NULL COMMENT 'json array with roles names, example: ["owner","admin"]',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE KEY `key` (`key`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `setting`
--

LOCK TABLES `setting` WRITE;
/*!40000 ALTER TABLE `setting` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `setting` VALUES (1,'owner_contacts','<a href=\'https://github.com/mbto/eatlog/issues\' target=\'_blank\'>https://github.com/mbto/eatlog/issues</a>',NULL),(2,'recommendations_json','{\"ru\":\":\n \n \n \n  - \n   \n,  .  \n .  \n   \n\n\n\n:\n \n \n \n  \n \n\n:\n\n\n\n , (  !)\n    \n\n:\n\n \n \n\n\n :\n \n \n ():\n, , \n 25-30   \n \n\n:\n \n\n     [  ]    / \n\n    12:00    18:00\n   \n     18:00\n  3 \n    2  \n 2     \",\n\"en\":\"Proteins:\nEgg white\nChicken breasts\nlean beef\nSea beef - tuna\nCanned in own juice\nLumpy, not chopped. Not salad\nSkim cheese. starch free\nGradually change to casein\nFish\nTurkey\n\nFats:\nOlive oil\nLinseed oil\nSesame oil\nLiquid unsaturated fats\nSunflower oil\n\nCarbohydrates:\nOatmeal\nBuckwheat\nPearl barley\nRice red, Unpeeled (white rice is not allowed!)\nDurum wheat pasta\n\nCellulose:\nBroccoli\nCauliflower\nAny greens\ncucumbers\n\nSpecial Additives:\nhard cheeses\nPeanut paste\nNuts (fats):\nWalnuts, Sesame, Cashew\nMaximum 25-30 grams per day\nAny nuts\n\nFruits:\ngreen apples\n\nremember to get healthy fats [eg walnuts] and vitamins/fiber\n\nProteins in the morning before 12:00 and in the evening after 18:00\nFiber at any time\nFats and all carbohydrates until 18:00\nMeals every 3 hours\nThe serving size is about the same as 2 packs of cigarettes\nDo not eat 2 hours before bedtime\"\n}','[\"redactor\"]'),(3,'description_json','{\n	\"ru\": \"    !        ;    ;     ;  ,        ;       .           .\",\n	\"en\": \"The site will help you lose weight! With us, you can calculate excess calorie consumption; keep a log of consumed products; see a graph of your weight change; track weight, consumed products and excess calorie consumption of other users; copy products of other users to your store. Get all the necessary tools to achieve your weight loss goal.\"\n}',NULL),(4,'donate_links_json','{\n	\"htmls\": [\n		\"<iframe src=\\\"https://yoomoney.ru/quickpay/fundraise/button?billNumber=35jwKATNGtI.230604&\\\" width=\\\"330\\\" height=\\\"50\\\" frameborder=\\\"0\\\" allowtransparency=\\\"true\\\" scrolling=\\\"no\\\"></iframe>\",\n		\"<iframe src=\\\"https://yoomoney.ru/quickpay/fundraise/button?billNumber=BNhJyQLg3Ds.230604&\\\" width=\\\"330\\\" height=\\\"50\\\" frameborder=\\\"0\\\" allowtransparency=\\\"true\\\" scrolling=\\\"no\\\"></iframe>\",\n		\"<iframe src=\\\"https://yoomoney.ru/quickpay/fundraise/button?billNumber=p3jKxwLiLBE.230604&\\\" width=\\\"330\\\" height=\\\"50\\\" frameborder=\\\"0\\\" allowtransparency=\\\"true\\\" scrolling=\\\"no\\\"></iframe>\",\n\"<iframe src=\\\"https://yoomoney.ru/quickpay/fundraise/button?billNumber=ggQplQPZIag.230604&\\\" width=\\\"330\\\" height=\\\"50\\\" frameborder=\\\"0\\\" allowtransparency=\\\"true\\\" scrolling=\\\"no\\\"></iframe>\"\n    ],\n	\"directUrl\": \"https://yoomoney.ru/to/4100118034317855\",\n	\"en\": {\n		\"pay\": \"Did the site help you lose weight?\"\n	}\n	\"ru\": {\n		\"pay\": \"  ?\"\n	}\n}',NULL),(5,'metric_scripts','<!-- Yandex.Metrika counter --> <script type=\"text/javascript\" > (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date(); for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }} k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)}) (window, document, \"script\", \"https://mc.yandex.ru/metrika/tag.js\", \"ym\"); ym(94084826, \"init\", { clickmap:true, trackLinks:true, accurateTrackBounce:true }); </script> <noscript><div><img src=\"https://mc.yandex.ru/watch/94084826\" style=\"position:absolute; left:-9999px;\" alt=\"\" /></div></noscript> <!-- /Yandex.Metrika counter -->\n<!-- Top.Mail.Ru counter -->\n<script type=\"text/javascript\">\nvar _tmr = window._tmr || (window._tmr = []);\n_tmr.push({id: \"3362034\", type: \"pageView\", start: (new Date()).getTime()});\n(function (d, w, id) {\n  if (d.getElementById(id)) return;\n  var ts = d.createElement(\"script\"); ts.type = \"text/javascript\"; ts.async = true; ts.id = id;\n  ts.src = \"https://top-fwz1.mail.ru/js/code.js\";\n  var f = function () {var s = d.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(ts, s);};\n  if (w.opera == \"[object Opera]\") { d.addEventListener(\"DOMContentLoaded\", f, false); } else { f(); }\n})(document, window, \"tmr-code\");\n</script>\n<noscript><div><img src=\"https://top-fwz1.mail.ru/counter?id=3362034;js=na\" style=\"position:absolute;left:-9999px;\" alt=\"Top.Mail.Ru\" /></div></noscript>\n<!-- /Top.Mail.Ru counter -->\n<!-- Google tag (gtag.js) -->\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=G-W5BK5Q5G9W\"></script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag(\'js\', new Date());\n  gtag(\'config\', \'G-W5BK5Q5G9W\');\n</script>',NULL),(6,'yandex_client_id','8aace... https://oauth.yandex.ru/',NULL),(7,'yandex_client_secret','e5153... https://oauth.yandex.ru/',NULL);
/*!40000 ALTER TABLE `setting` ENABLE KEYS */;
UNLOCK TABLES;
commit;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS setting_BEFORE_INSERT */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `setting_BEFORE_INSERT` BEFORE INSERT ON `setting` FOR EACH ROW BEGIN
if(NEW.roles = cast('[]' as json)) then
 set NEW.roles = null;
end if;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS setting_BEFORE_UPDATE */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `setting_BEFORE_UPDATE` BEFORE UPDATE ON `setting` FOR EACH ROW BEGIN
if(NEW.roles = cast('[]' as json)) then
 set NEW.roles = null;
end if;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `store`
--

DROP TABLE IF EXISTS `store`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `store` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `account_id` int unsigned NOT NULL,
  `title` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  KEY `store_account_account_id_fk` (`account_id`) USING BTREE,
  KEY `updated_at` (`updated_at`) USING BTREE,
  CONSTRAINT `store_account_account_id_fk` FOREIGN KEY (`account_id`) REFERENCES `account` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `store`
--

LOCK TABLES `store` WRITE;
/*!40000 ALTER TABLE `store` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `store` VALUES (1,'2024-04-02 12:28:07',1,'.'),(2,'2024-04-04 02:50:35',1,''),(3,'2023-07-20 01:47:09',1,' ');
/*!40000 ALTER TABLE `store` ENABLE KEYS */;
UNLOCK TABLES;
commit;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS store_BEFORE_UPDATE */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `store_BEFORE_UPDATE` BEFORE UPDATE ON `store` FOR EACH ROW BEGIN
if(!(OLD.title <=> NEW.title)) then
 set NEW.updated_at=current_timestamp();
end if;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `weight`
--

DROP TABLE IF EXISTS `weight`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `weight` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `date` date NOT NULL,
  `account_id` int unsigned NOT NULL,
  `kilogram` decimal(4,1) unsigned NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  KEY `date` (`date`) USING BTREE,
  KEY `weight_account_account_id_fk` (`account_id`) USING BTREE,
  CONSTRAINT `weight_account_account_id_fk` FOREIGN KEY (`account_id`) REFERENCES `account` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `weight`
--

LOCK TABLES `weight` WRITE;
/*!40000 ALTER TABLE `weight` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `weight` VALUES (1,'2023-04-04',1,156.0),(2,'2023-04-05',1,155.0),(3,'2023-04-06',1,154.0),(4,'2023-04-07',1,153.2),(5,'2023-04-08',1,152.5),(6,'2023-04-09',1,152.0),(7,'2023-04-10',1,151.8),(8,'2023-04-11',1,152.2),(9,'2023-04-12',1,152.4),(10,'2023-04-13',1,151.5),(16,'2023-04-14',1,151.0),(27,'2023-04-15',1,150.8),(31,'2023-04-16',1,150.2),(37,'2023-04-17',1,150.0),(38,'2023-04-18',1,150.0),(39,'2023-04-19',1,149.0),(40,'2023-04-20',1,148.0),(41,'2023-04-21',1,148.0),(42,'2023-04-22',1,148.5),(43,'2023-04-23',1,148.7),(44,'2023-04-24',1,147.5),(45,'2023-04-25',1,147.2),(46,'2023-04-26',1,147.0),(47,'2023-04-03',1,157.0),(48,'2023-04-02',1,158.0),(49,'2023-04-01',1,160.0),(50,'2023-04-27',1,146.5),(51,'2023-04-28',1,147.3),(52,'2023-04-29',1,147.5),(53,'2023-04-30',1,146.5),(54,'2023-05-01',1,145.5),(55,'2023-05-02',1,145.1),(56,'2023-05-03',1,145.5),(57,'2023-05-04',1,145.2),(58,'2023-05-05',1,146.3),(59,'2023-06-15',1,137.8),(121,'2023-06-13',1,137.1),(133,'2023-06-14',1,137.5),(134,'2023-06-16',1,137.4),(135,'2023-06-17',1,137.0),(136,'2023-06-21',1,136.5),(142,'2023-06-25',1,136.5),(143,'2023-06-26',1,136.5),(144,'2023-06-27',1,135.5),(145,'2023-06-28',1,135.5),(146,'2023-06-29',1,136.5),(147,'2023-06-30',1,135.9),(148,'2023-07-01',1,136.2),(149,'2023-07-02',1,135.1),(150,'2023-07-03',1,135.3),(151,'2023-07-04',1,134.5),(152,'2023-07-05',1,134.4),(153,'2023-07-06',1,134.1),(154,'2023-07-07',1,134.4),(155,'2023-07-08',1,133.3),(156,'2023-07-09',1,132.2),(157,'2023-07-10',1,132.2),(158,'2023-07-11',1,132.8),(159,'2023-07-12',1,133.5),(160,'2023-07-13',1,132.7),(161,'2023-07-14',1,132.3),(162,'2023-07-15',1,132.7),(163,'2023-07-16',1,133.2),(164,'2023-07-17',1,132.0),(165,'2023-07-18',1,132.2),(166,'2023-07-19',1,132.2),(167,'2023-07-20',1,132.1),(168,'2023-07-21',1,131.9),(169,'2023-07-22',1,132.0),(170,'2023-07-23',1,131.8),(171,'2023-07-24',1,131.4),(172,'2023-07-25',1,130.8),(173,'2023-07-26',1,131.1),(174,'2023-07-27',1,130.5),(175,'2023-07-28',1,129.9),(176,'2023-07-29',1,129.2),(177,'2023-07-30',1,129.5),(178,'2023-07-31',1,130.0),(179,'2023-08-01',1,129.5),(180,'2023-08-02',1,129.7),(181,'2023-08-03',1,129.0),(182,'2023-08-04',1,128.8),(183,'2023-08-05',1,128.4),(184,'2023-08-06',1,128.4),(185,'2023-08-07',1,128.4),(186,'2023-08-08',1,128.2),(187,'2023-08-09',1,127.7),(188,'2023-08-10',1,127.7),(189,'2023-08-11',1,127.8),(190,'2023-08-12',1,127.6),(191,'2023-08-13',1,127.1),(192,'2023-08-14',1,127.7),(193,'2023-08-15',1,127.1),(194,'2023-08-16',1,125.8),(195,'2023-08-17',1,126.5),(196,'2023-08-18',1,126.0),(197,'2023-08-19',1,125.5),(198,'2023-08-20',1,126.5),(199,'2023-08-21',1,126.5),(200,'2023-08-22',1,126.6),(201,'2023-08-23',1,126.4),(202,'2023-08-24',1,126.4),(203,'2023-08-25',1,126.1),(204,'2023-08-26',1,126.6),(205,'2023-08-27',1,126.3),(206,'2023-08-28',1,126.6),(207,'2023-08-29',1,125.8),(208,'2023-08-30',1,125.8),(209,'2023-08-31',1,125.2),(210,'2023-09-01',1,124.6),(211,'2023-09-02',1,124.5),(212,'2023-09-03',1,124.6),(213,'2023-09-04',1,124.6),(214,'2023-09-05',1,124.7),(215,'2023-09-06',1,125.0),(216,'2023-09-07',1,124.6),(217,'2023-09-08',1,124.5),(218,'2023-09-09',1,124.2),(219,'2023-09-10',1,123.7),(220,'2023-09-11',1,123.5),(221,'2023-09-12',1,123.6),(222,'2023-09-13',1,123.4),(223,'2023-09-14',1,123.5),(224,'2023-09-15',1,123.1),(225,'2023-09-16',1,122.9),(226,'2023-09-17',1,122.6),(227,'2023-09-18',1,123.0),(228,'2023-09-19',1,122.7),(229,'2023-09-20',1,122.3),(230,'2023-09-21',1,122.2),(231,'2023-09-22',1,123.0),(232,'2023-09-23',1,122.2),(233,'2023-09-24',1,122.5),(234,'2023-09-25',1,122.4),(235,'2023-09-26',1,122.0),(236,'2023-09-27',1,122.2),(237,'2023-09-28',1,122.2),(238,'2023-09-29',1,121.4),(239,'2023-09-30',1,121.1),(240,'2023-10-01',1,121.0),(241,'2023-10-02',1,120.7),(242,'2023-10-03',1,120.2),(243,'2023-10-04',1,119.8),(244,'2023-10-05',1,120.1),(245,'2023-10-06',1,119.9),(246,'2023-10-07',1,120.2),(247,'2023-10-08',1,119.7),(248,'2023-10-09',1,119.6),(249,'2023-10-10',1,119.6),(250,'2023-10-23',1,116.8),(251,'2023-10-25',1,116.0),(252,'2023-10-24',1,116.4),(253,'2023-10-26',1,116.6),(254,'2023-10-27',1,115.8),(255,'2023-10-28',1,116.0),(256,'2023-10-29',1,115.0),(257,'2023-10-30',1,114.5),(258,'2023-10-31',1,114.8),(259,'2023-11-01',1,114.5),(260,'2023-11-02',1,114.3),(261,'2023-11-03',1,114.5),(262,'2023-11-04',1,114.5),(263,'2023-11-05',1,113.7),(264,'2023-11-06',1,113.4),(265,'2023-11-07',1,113.4),(266,'2023-11-08',1,113.2),(267,'2023-11-09',1,112.8),(268,'2023-11-10',1,113.2),(269,'2023-11-11',1,113.5),(270,'2023-11-12',1,113.0),(271,'2023-11-13',1,112.6),(272,'2023-11-14',1,113.2),(273,'2023-11-15',1,112.6),(274,'2023-11-16',1,112.5),(275,'2023-11-17',1,112.0),(276,'2023-11-18',1,111.8),(277,'2023-11-20',1,112.2),(278,'2023-11-19',1,112.0),(279,'2023-11-21',1,111.8),(280,'2023-11-22',1,112.4),(281,'2023-11-23',1,111.6),(282,'2023-11-24',1,111.4),(283,'2023-11-25',1,111.5),(284,'2023-11-26',1,111.3),(285,'2023-11-27',1,111.7),(286,'2023-11-28',1,111.7),(287,'2023-11-29',1,111.4),(288,'2023-11-30',1,111.3),(289,'2023-12-01',1,111.5),(290,'2023-12-02',1,111.6),(291,'2023-12-03',1,111.0),(292,'2023-12-04',1,110.9),(293,'2023-12-05',1,110.4),(294,'2023-12-06',1,109.9),(295,'2023-12-07',1,109.8),(296,'2023-12-08',1,110.0),(297,'2023-12-09',1,109.8),(298,'2023-12-10',1,109.8),(299,'2023-12-11',1,110.0),(300,'2023-12-12',1,109.9),(301,'2023-12-13',1,109.7),(302,'2023-12-14',1,110.4),(303,'2023-12-16',1,109.5),(304,'2023-12-15',1,110.0),(305,'2023-12-17',1,109.8),(306,'2023-12-18',1,109.8),(307,'2023-12-19',1,109.9),(308,'2023-12-20',1,110.9),(309,'2023-12-21',1,110.1),(310,'2023-12-22',1,109.3),(311,'2023-12-23',1,108.6),(312,'2023-12-24',1,108.6),(313,'2023-12-25',1,109.2),(314,'2023-12-26',1,109.8),(315,'2023-12-27',1,109.8),(316,'2023-12-28',1,108.9),(317,'2023-12-29',1,109.3),(318,'2023-12-30',1,109.5),(319,'2024-01-03',1,109.0),(320,'2024-01-04',1,109.8),(321,'2024-01-12',1,109.3),(322,'2024-02-03',1,112.8),(323,'2024-02-04',1,112.1),(324,'2024-02-05',1,111.4),(325,'2024-02-06',1,110.7),(326,'2024-02-07',1,110.7),(327,'2024-02-08',1,109.8),(328,'2024-02-09',1,111.2),(329,'2024-02-10',1,111.0);
/*!40000 ALTER TABLE `weight` ENABLE KEYS */;
UNLOCK TABLES;
commit;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS weight_BEFORE_INSERT */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `weight_BEFORE_INSERT` BEFORE INSERT ON `weight` FOR EACH ROW BEGIN
declare error_msg text;
declare existed_id int unsigned;
select id from weight where
		date = NEW.date
    and account_id = NEW.account_id
    limit 1 into existed_id;
    
if (existed_id is not null) then
	set error_msg = concat('Unable to insert, due date=', NEW.date, ' and account_id=', NEW.account_id, ' already existed in id=', existed_id);
	SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = error_msg;
end if;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
/*!50032 DROP TRIGGER IF EXISTS weight_BEFORE_UPDATE */;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `weight_BEFORE_UPDATE` BEFORE UPDATE ON `weight` FOR EACH ROW BEGIN
declare error_msg text;
declare existed_id int unsigned;
if(!(OLD.date <=> NEW.date) or !(OLD.account_id <=> NEW.account_id)) then
	select id from weight where
			date = NEW.date
			and account_id = NEW.account_id
			limit 1 into existed_id;

	if (existed_id is not null) then
		set error_msg = concat('Unable to update, due date=', NEW.date, ' and account_id=', NEW.account_id, ' already existed in id=', existed_id);
		SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = error_msg;
	end if;
end if;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Dumping events for database 'eatlog'
--

--
-- Dumping routines for database 'eatlog'
--
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2026-01-07
